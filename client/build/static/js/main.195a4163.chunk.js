(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{41:function(e,t,a){},42:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),c=a.n(s),r=a(28),o=a.n(r),i=(a(41),a(4)),l=a(2),d=a(5),u=(a(42),a(29)),h=a(30),j=a(11),b=a(34),m=a(33),O=a(3),g=a.n(O),v=a(31),p=a.n(v),x=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={customer_name:"",customer_mobile:"",customer_email:"",customer_address:"",table_number:"",reserved_date:""},n.onNameChange=n.onNameChange.bind(Object(j.a)(n)),n.onMobileChange=n.onMobileChange.bind(Object(j.a)(n)),n.onEmailChange=n.onEmailChange.bind(Object(j.a)(n)),n.onAddressChange=n.onAddressChange.bind(Object(j.a)(n)),n.onTableChange=n.onTableChange.bind(Object(j.a)(n)),n.onDateChange=n.onDateChange.bind(Object(j.a)(n)),n.onHandleUpdate=n.onHandleUpdate.bind(Object(j.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;fetch("/getReservation/".concat(t),{method:"get",headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState(t)})).catch((function(e){console.log(e)}))}},{key:"onNameChange",value:function(e){this.setState({customer_name:e.target.value})}},{key:"onMobileChange",value:function(e){this.setState({customer_mobile:e.target.value})}},{key:"onEmailChange",value:function(e){this.setState({customer_email:e.target.value})}},{key:"onAddressChange",value:function(e){this.setState({customer_address:e.target.value})}},{key:"onTableChange",value:function(e){this.setState({table_number:e.target.value})}},{key:"onDateChange",value:function(e){this.setState({reserved_date:e.target.value})}},{key:"onHandleUpdate",value:function(e){g.a.toast({html:"Reservation Updating..."});var t={customer_name:this.state.customer_name,customer_mobile:this.state.customer_mobile,customer_email:this.state.customer_email,customer_address:this.state.customer_address,table_number:this.state.table_number,reserved_date:this.state.reserved_date};p.a.put("/editReservation/"+this.props.match.params.id,t).then((function(e){console.log(e.data),g.a.toast({html:"Reservation Updated Successfully!",classes:"#00c853 green accent-4"})})).catch((function(e){console.log(e)})),this.props.history.push("/")}},{key:"render",value:function(){return Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"mycard",children:Object(n.jsxs)("div",{className:"card new-reservation-card",children:[Object(n.jsx)("h1",{className:"brand-logo",children:"Edit Reservation"}),Object(n.jsxs)("form",{onSubmit:this.onHandleUpdate,children:[Object(n.jsx)("input",{type:"text",onChange:this.onNameChange,ref:"customer_name",placeholder:"Enter Customer Name",value:this.state.customer_name}),Object(n.jsx)("input",{type:"text",onChange:this.onMobileChange,ref:"customer_mobile",placeholder:"Enter Customer Mobile Number",value:this.state.customer_mobile}),Object(n.jsx)("input",{type:"email",onChange:this.onEmailChange,ref:"customer_email",placeholder:"Enter Customer Email",value:this.state.customer_email}),Object(n.jsx)("input",{type:"text",onChange:this.onAddressChange,ref:"customer_address",placeholder:"Enter Customer Address",value:this.state.customer_address}),Object(n.jsx)("input",{type:"text",onChange:this.onTableChange,ref:"table_number",placeholder:"Enter Table Number",value:this.state.table_number}),Object(n.jsx)("input",{type:"datetime-local",onChange:this.onDateChange,ref:"reserved_date",placeholder:"Choose Date and Time",value:this.state.reserved_date}),Object(n.jsx)("button",{type:"submit",className:"btn waves-effetc waves-light",children:"Update Reservation"})]})]})})})}}]),a}(s.Component),f=function(){var e=Object(s.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(s.useContext)(w);r.state,r.dispatch;Object(s.useEffect)((function(){fetch("/myReservation",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){console.log(e),c(e)}))}),[]);return a?Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:Object(n.jsxs)(d.b,{to:"/newReservation",className:"btn waves-effect waves-light",children:["Add New Reservation",Object(n.jsx)("i",{class:"material-icons right",children:"add"})]})}),Object(n.jsx)("div",{className:"home",children:Object(n.jsxs)("table",{children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Customer Name"}),Object(n.jsx)("th",{children:"Mobiel Number"}),Object(n.jsx)("th",{children:"Customer Email"}),Object(n.jsx)("th",{children:"Customer Address"}),Object(n.jsx)("th",{children:"Table Number"}),Object(n.jsx)("th",{children:"Reserved Date"}),Object(n.jsx)("th",{children:"Actions"})]})}),Object(n.jsx)("tbody",{children:a.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.customer_name}),Object(n.jsx)("td",{children:e.customer_mobile}),Object(n.jsx)("td",{children:e.customer_email}),Object(n.jsx)("td",{children:e.customer_address}),Object(n.jsx)("td",{children:e.table_number}),Object(n.jsx)("td",{children:e.reserved_date}),Object(n.jsx)(d.b,{to:"/editReservation/"+e._id,children:Object(n.jsx)("td",{className:"material-icons",children:"edit"})}),Object(n.jsx)(d.b,{children:Object(n.jsx)("td",{className:"material-icons",onClick:function(){return t=e._id,g.a.toast({html:"Please wait , Deleting..."}),void fetch("/deleteReservation/".concat(t),{method:"delete",headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){console.log(e);var t=a.filter((function(t){return t._id!=e._id}));c(t),g.a.toast({html:"Reservation Deleted Successfully!",classes:"#00c853 green accent-4"})}));var t},style:{color:"red"},children:"delete"})})]},e._id)}))})]})})]}):Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:Object(n.jsx)(d.b,{to:"/newReservation",children:"New Reservation"})}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("table",{className:"home",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Customer Name"}),Object(n.jsx)("th",{children:"Mobile Number"}),Object(n.jsx)("th",{children:"Customer Email"}),Object(n.jsx)("th",{children:"Customer Address"}),Object(n.jsx)("th",{children:"Table Number"}),Object(n.jsx)("th",{children:"Reserved Date"}),Object(n.jsx)("th",{children:"Actions"})]})}),Object(n.jsx)("tbody",{})]}),Object(n.jsx)("h1",{children:"No Reservation Found"})]})]})},C=function(){var e=Object(s.useContext)(w),t=(e.state,e.dispatch),a=Object(l.f)(),c=Object(s.useState)(""),r=Object(i.a)(c,2),o=r[0],u=r[1],h=Object(s.useState)(""),j=Object(i.a)(h,2),b=j[0],m=j[1];return Object(n.jsx)("div",{className:"mycard",children:Object(n.jsxs)("div",{className:"card auth-card",children:[Object(n.jsx)("h1",{className:"brand-logo",children:"Restaurant Login"}),Object(n.jsx)("input",{type:"email",placeholder:"Enter Email",value:o,onChange:function(e){return u(e.target.value)}}),Object(n.jsx)("input",{type:"password",placeholder:"Enter Password",value:b,onChange:function(e){return m(e.target.value)}}),Object(n.jsx)("button",{className:"btn waves-effetc waves-light",onClick:function(){g.a.toast({html:"Please wait... , Restaurant Loging!"}),/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(o)?fetch("/login",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:b})}).then((function(e){return e.json()})).then((function(e){console.log(e),e.error?g.a.toast({html:e.error,classes:"#f44336 red"}):(localStorage.setItem("jwt",e.token),localStorage.setItem("restaurant",JSON.stringify(e.restaurant)),t({type:"RESTAURANT",payload:e.restaurant}),g.a.toast({html:"Login Successfully!",classes:"#00c853 green accent-4"}),a.push("/"))})).catch((function(e){console.log(e)})):g.a.toast({html:"Invalid Email",classes:"#f44336 red"})},children:"Login"}),Object(n.jsx)("h6",{children:Object(n.jsx)(d.b,{to:"/signup",children:"Don't have an Account?"})})]})})},y=function(){var e=Object(l.f)(),t=Object(s.useContext)(w),a=t.state,c=t.dispatch;return Object(n.jsx)("nav",{className:"#212121 grey darken-4",children:Object(n.jsx)("div",{className:"nav-wrapper",children:a?[Object(n.jsxs)(d.b,{to:"/",className:"brand-logo",children:[a.restaurant_name," Restaurant"]}),Object(n.jsxs)("ul",{id:"nav-mobile",className:"right",children:[",",Object(n.jsxs)("li",{children:["Welcome , ",a.owner_name]}),",",Object(n.jsx)("li",{children:Object(n.jsx)(d.b,{onClick:function(){localStorage.clear(),c({type:"CLEAR"}),e.push("/login")},children:"Logout"})})]})]:[Object(n.jsx)(d.b,{to:"/",className:"brand-logo",children:"Restaurant"}),Object(n.jsxs)("ul",{id:"nav-mobile",className:"right",children:[",",Object(n.jsx)("li",{children:Object(n.jsx)(d.b,{to:"/login",children:"Login"})}),",",Object(n.jsx)("li",{children:Object(n.jsx)(d.b,{to:"/register",children:"Register"})})]})]})})},N=function(){var e=Object(l.f)(),t=Object(s.useState)(""),a=Object(i.a)(t,2),c=a[0],r=a[1],o=Object(s.useState)(""),d=Object(i.a)(o,2),u=d[0],h=d[1],j=Object(s.useState)(""),b=Object(i.a)(j,2),m=b[0],O=b[1],v=Object(s.useState)(""),p=Object(i.a)(v,2),x=p[0],f=p[1],C=Object(s.useState)(""),y=Object(i.a)(C,2),N=y[0],_=y[1],R=Object(s.useState)(""),S=Object(i.a)(R,2),w=S[0],E=S[1],A=Object(s.useState)(""),T=Object(i.a)(A,2),k=T[0];T[1];return Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"mycard",children:Object(n.jsxs)("div",{className:"card new-reservation-card",children:[Object(n.jsx)("h1",{className:"brand-logo",children:"Add New Reservation"}),Object(n.jsx)("input",{type:"text",placeholder:"Enter Customer Name",value:c,onChange:function(e){return r(e.target.value)}}),Object(n.jsx)("input",{type:"text",placeholder:"Enter Customer Mobile Number",value:u,onChange:function(e){return h(e.target.value)}}),Object(n.jsx)("input",{type:"email",placeholder:"Enter Customer Email",value:m,onChange:function(e){return O(e.target.value)}}),Object(n.jsx)("input",{type:"text",placeholder:"Enter Customer Address",value:x,onChange:function(e){return f(e.target.value)}}),Object(n.jsx)("input",{type:"text",placeholder:"Enter Table Number",value:N,onChange:function(e){return _(e.target.value)}}),Object(n.jsx)("input",{type:"datetime-local",placeholder:"Choose Date and Time",value:w,onChange:function(e){return E(e.target.value)}}),Object(n.jsx)("button",{className:"btn waves-effetc waves-light",onClick:function(){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(m)?(g.a.toast({html:"Please wait , Reservaton Creating..."}),fetch("/addReservation",{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({customer_name:c,customer_mobile:u,customer_email:m,customer_address:x,table_number:N,reserved_date:w,reserved_timing:k})}).then((function(e){return e.json()})).then((function(t){t.error?g.a.toast({html:t.error,classes:"#f44336 red"}):(g.a.toast({html:"New Reservation Added Successfully!",classes:"#00c853 green accent-4"}),e.push("/"))})).then((function(e){console.log(e)}))):g.a.toast({html:"Invalid Email",classes:"#f44336 red"})},children:"Add New Reservation"})]})})})},_=function(){var e=Object(l.f)(),t=Object(s.useState)(""),a=Object(i.a)(t,2),c=a[0],r=a[1],o=Object(s.useState)(""),u=Object(i.a)(o,2),h=u[0],j=u[1],b=Object(s.useState)(""),m=Object(i.a)(b,2),O=m[0],v=m[1],p=Object(s.useState)(""),x=Object(i.a)(p,2),f=x[0],C=x[1],y=Object(s.useState)(""),N=Object(i.a)(y,2),_=N[0],R=N[1];return Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"mycard",children:Object(n.jsxs)("div",{className:"card auth-card",children:[Object(n.jsx)("h1",{className:"brand-logo",children:"Restaurant Registration"}),Object(n.jsx)("input",{type:"text",placeholder:"Enter Restaurant Name",value:c,onChange:function(e){return r(e.target.value)}}),Object(n.jsx)("input",{type:"text",placeholder:"Enter Restaurant Owner Name",value:h,onChange:function(e){return j(e.target.value)}}),Object(n.jsx)("input",{type:"email",placeholder:"Enter Email",value:O,onChange:function(e){return v(e.target.value)}}),Object(n.jsx)("input",{type:"email",placeholder:"Enter Address",value:f,onChange:function(e){return C(e.target.value)}}),Object(n.jsx)("input",{type:"password",placeholder:"Enter Password",value:_,onChange:function(e){return R(e.target.value)}}),Object(n.jsx)("button",{className:"btn waves-effetc waves-light",onClick:function(){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(O)?(g.a.toast({html:"Restaurant is Registering..."}),fetch("/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({restaurant_name:c,owner_name:h,email:O,address:f,password:_})}).then((function(e){return e.json()})).then((function(t){t.error?g.a.toast({html:t.error,classes:"#f44336 red"}):(g.a.toast({html:t.message,classes:"#00c853 green accent-4"}),e.push("/login"))})).catch((function(e){console.log(e)}))):g.a.toast({html:"Invalid Email",classes:"#f44336 red"})},children:"Register"}),Object(n.jsx)("h6",{children:Object(n.jsx)(d.b,{to:"/login",children:"Already have an Account?"})})]})})})},R=a(35),S=function(e,t){return"RESTAURANT"===t.type?t.payload:"CLEAR"===t.type?null:"UPDATE"===t.type?Object(R.a)({},e):e},w=Object(s.createContext)(),E=function(){var e=Object(l.f)(),t=Object(s.useContext)(w),a=(t.state,t.dispatch);return Object(s.useEffect)((function(){var t=JSON.parse(localStorage.getItem("restaurant"));t?a({type:"RESTAURANT",payload:t}):e.push("/login")}),[]),Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{path:"/",component:f,exact:!0}),Object(n.jsx)(l.a,{path:"/login",component:C,exact:!0}),Object(n.jsx)(l.a,{path:"/register",component:_,exact:!0}),Object(n.jsx)(l.a,{path:"/newReservation",component:N,exact:!0}),Object(n.jsx)(l.a,{path:"/editReservation/:id",component:x,exact:!0})]})};var A=function(){var e=Object(s.useReducer)(S,null),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(n.jsx)(w.Provider,{value:{state:a,dispatch:c},children:Object(n.jsxs)(d.a,{children:[Object(n.jsx)(y,{}),Object(n.jsx)(E,{})]})})},T=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,65)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};o.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(A,{})}),document.getElementById("root")),T()}},[[64,1,2]]]);
//# sourceMappingURL=main.195a4163.chunk.js.map